"use strict";(globalThis.webpackChunkgsf_docusaurus_template=globalThis.webpackChunkgsf_docusaurus_template||[]).push([[9111],{8453(e,n,t){t.d(n,{R:()=>s,x:()=>o});var i=t(6540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}},9337(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"catalog/development/minimize-main-thread-work","title":"Minimize main thread work","description":"Description","source":"@site/docs/catalog/development/minimize-main-thread-work.md","sourceDirName":"catalog/development","slug":"/catalog/development/minimize-main-thread-work","permalink":"/gsf-patterns/catalog/development/minimize-main-thread-work","draft":false,"unlisted":false,"editUrl":"https://github.com/Green-Software-Foundation/patterns/edit/main/docs/catalog/development/minimize-main-thread-work.md","tags":[{"inline":true,"label":"web","permalink":"/gsf-patterns/tags/web"},{"inline":true,"label":"compute","permalink":"/gsf-patterns/tags/compute"},{"inline":true,"label":"role:web-developer","permalink":"/gsf-patterns/tags/role-web-developer"},{"inline":true,"label":"size:small","permalink":"/gsf-patterns/tags/size-small"}],"version":"current","frontMatter":{"version":1,"submitted_by":"markus-ntt-seidl","published_date":"2022-11-22T00:00:00.000Z","category":"development","tags":["web","compute","role:web-developer","size:small"]},"sidebar":"tutorialSidebar","previous":{"title":"Minify web assets","permalink":"/gsf-patterns/catalog/development/minify-web-assets"},"next":{"title":"Minimize transmitted data size","permalink":"/gsf-patterns/catalog/development/minimize-transmitted-data"}}');var r=t(4848),a=t(8453);const s={version:1,submitted_by:"markus-ntt-seidl",published_date:new Date("2022-11-22T00:00:00.000Z"),category:"development",tags:["web","compute","role:web-developer","size:small"]},o="Minimize main thread work",l={},d=[{value:"Description",id:"description",level:2},{value:"Solution",id:"solution",level:2},{value:"SCI Impact",id:"sci-impact",level:2},{value:"Assumptions",id:"assumptions",level:2},{value:"Considerations",id:"considerations",level:2},{value:"References",id:"references",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"minimize-main-thread-work",children:"Minimize main thread work"})}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"Web browsers traditionally consist of a main rendering thread that handles most of the updates on the web page and the execution of JavaScript. JavaScript is executed on the main thread to simplify JavaScript implementations so the JavaScript programmer doesn't have to deal with any multi-threading programming patterns.\nWhen doing long running JavaScript computations it is running single threaded. In contrast all CPUs nowadays have multiple cores which have to be powered on while being underutilized."}),"\n",(0,r.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,r.jsx)(n.p,{children:"For long running JavaScript computations (e.g. computations that run longer than a few 100 ms) try to use WebWorkers and run them in another thread while keeping the main rendering thread free. Consider moving the JavaScript computation to efficient server implementations that use optimized algorithms."}),"\n",(0,r.jsx)(n.h2,{id:"sci-impact",children:"SCI Impact"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"SCI = (E * I) + M per R"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://grnsft.org/sci",children:"Software Carbon Intensity Spec"})]}),"\n",(0,r.jsx)(n.p,{children:"Concerning the SCI equation, minimize main thread work will impact as follows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"E"}),": CPU resources can be used more efficiently which reduces the electricity required and reduces the carbon intensity"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"assumptions",children:"Assumptions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"An assumption is made that the code in question can be moved of the main rendering thread"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"considerations",children:"Considerations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Consider moving the workload to a efficient server implementation"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://web.dev/mainthread-work-breakdown/",children:"Main thread work breakdown"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.debugbear.com/docs/metrics/total-blocking-time#whats-a-good-total-blocking-time",children:"What is a good Total Blocking Time"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);